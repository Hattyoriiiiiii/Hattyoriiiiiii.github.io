---
layout: post
author: hattyoriiiiiii
title:  Macで「システムデータ」を減らして空き容量を確保する
date: 2022-08-14
description:  Dockerの意外な落とし穴
tags: tips
categories:  Docker
---

<br>

### 問題
- 気付いたらストレージが数百 MBまで圧迫。
- こまめにファイルを消すことを繰り返していた。
- この時、「システムデータ」が100 GB以上となっていたが、原因は不明。

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.html path="assets/img/blog/2022/2022-08-14-MacStorage.png" title="example image" class="img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    これは解決した後に撮影したもの。
</div>

<br>

### 解決策
1. BuhoCleanerで原因を探ってみたところ、`Docker.raw`というファイルが64 GB近く取っていることが発覚

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.html path="assets/img/blog/2022/2022-08-14-BuhoCleaner.png" title="example image" class="img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    無料版を利用している。
</div>


2. Disk image sizeを「64 GB → 16 GB」に変更したところ、110 GBくらい大きかったシステムデータが50 GB程度まで減少。

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.html path="assets/img/blog/2022/2022-08-14-DockerResources.png" title="example image" class="img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    既定の容量を先に確保していたようですね。
</div>

<br>